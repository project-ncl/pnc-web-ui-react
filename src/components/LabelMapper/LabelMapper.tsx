import { Label as LabelPF, LabelProps as LabelPropsPF } from '@patternfly/react-core';

import { EmptyStateSymbol } from 'components/EmptyStateSymbol/EmptyStateSymbol';

import { uiLogger } from 'services/uiLogger';

interface ILabelMapperItem {
  text: string;
  color: LabelPropsPF['color'];
}

export type ILabelMapper<Types> = {
  [key in Types as string]: ILabelMapperItem;
};

interface ILabelMapperProps {
  mapperItem?: ILabelMapperItem;
}

/**
 * Represents a Label generated by label mapper item.
 *
 * @param mapperItem - the mapper item that will be used to generate the label
 */
export const LabelMapper = ({ mapperItem }: ILabelMapperProps) => {
  if (!mapperItem) {
    uiLogger.error(`Error attempting to get mapper item: mapper item undefined`);
  }
  return mapperItem ? <LabelPF color={mapperItem.color}>{mapperItem.text}</LabelPF> : <EmptyStateSymbol text={false} />;
};
